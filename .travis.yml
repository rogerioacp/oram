language: c


matrix:
  include:
    # works on Precise and Trusty
    - dist: trusty
      before_install:
        - wget https://github.com/cpputest/cpputest/releases/download/v3.8/cpputest-3.8.tar.gz
        - tar -zxf cpputest-3.8.tar.gz
        - cd cpputest-3.8
        - mkdir build & cd build
        - ../configure
        - make
        - sudo make install
        - cd ..
        - git clone https://github.com/srdja/Collections-C.git
        - cd Collections-C
        - mkdir build
        - cd build
        - cmake ..
        - make
        - sudo make install
        - cd ../..
        - autoreconf -i
      script: ./configure && make && make check && make distcheck
